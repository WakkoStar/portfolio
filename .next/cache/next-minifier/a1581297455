{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{YFqc:function(e,t,n){e.exports=n(\"cTJO\")},cTJO:function(e,t,n){\"use strict\";var r=n(\"lwsE\"),i=n(\"W8MJ\"),o=n(\"7W2i\"),a=n(\"a1gu\"),s=n(\"Nsbk\");function c(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var u=n(\"TqRt\"),f=n(\"284h\");t.__esModule=!0,t.default=void 0;var l,d=f(n(\"q1tI\")),h=n(\"QmWs\"),p=n(\"g/15\"),v=u(n(\"nOHt\")),y=n(\"elyg\");function g(e){return e&&\"object\"===typeof e?(0,p.formatWithValidation)(e):e}var w=new Map,m=window.IntersectionObserver,b={};function _(){return l||(m?l=new m((function(e){e.forEach((function(e){if(w.has(e.target)){var t=w.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(l.unobserve(e.target),w.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0)}var O=function(e){o(u,e);var t,n=(t=u,function(){var e,n=s(t);if(c()){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function u(e){var t;return r(this,u),(t=n.call(this,e)).p=void 0,t.cleanUpListeners=function(){},t.formatUrls=function(e){var t=null,n=null,r=null;return function(i,o){if(r&&i===t&&o===n)return r;var a=e(i,o);return t=i,n=o,r=a,a}}((function(e,t){return{href:(0,y.addBasePath)(g(e)),as:t?(0,y.addBasePath)(g(t)):t}})),t.linkClicked=function(e){var n=e.currentTarget,r=n.nodeName,i=n.target;if(\"A\"!==r||!(i&&\"_self\"!==i||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var o=t.formatUrls(t.props.href,t.props.as),a=o.href,s=o.as;if(function(e){var t=(0,h.parse)(e,!1,!0),n=(0,h.parse)((0,p.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(a)){var c=window.location.pathname;a=(0,h.resolve)(c,a),s=s?(0,h.resolve)(c,s):a,e.preventDefault();var u=t.props.scroll;null==u&&(u=s.indexOf(\"#\")<0),v.default[t.props.replace?\"replace\":\"push\"](a,s,{shallow:t.props.shallow}).then((function(e){e&&u&&(window.scrollTo(0,0),document.body.focus())}))}}},t.p=!1!==e.prefetch,t}return i(u,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"getPaths\",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,r=t.as,i=(0,h.resolve)(e,n);return[i,r?(0,h.resolve)(e,r):i]}},{key:\"handleRef\",value:function(e){var t=this;this.p&&m&&e&&e.tagName&&(this.cleanUpListeners(),b[this.getPaths().join(\"%\")]||(this.cleanUpListeners=function(e,t){var n=_();return n?(n.observe(e),w.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}w.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:\"prefetch\",value:function(e){if(this.p){var t=this.getPaths();v.default.prefetch(t[0],t[1],e).catch((function(e){0})),b[t.join(\"%\")]=!0}}},{key:\"render\",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,i=n.as;\"string\"===typeof t&&(t=d.default.createElement(\"a\",null,t));var o=d.Children.only(t),a={ref:function(t){e.handleRef(t),o&&\"object\"===typeof o&&o.ref&&(\"function\"===typeof o.ref?o.ref(t):\"object\"===typeof o.ref&&(o.ref.current=t))},onMouseEnter:function(t){o.props&&\"function\"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){o.props&&\"function\"===typeof o.props.onClick&&o.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&(\"a\"!==o.type||\"href\"in o.props)||(a.href=i||r),d.default.cloneElement(o,a)}}]),u}(d.Component);t.default=O},miPH:function(e,t,n){\"use strict\";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==typeof t&&\"object\"==typeof n){var a,s,c,u=r(t),f=r(n);if(u&&f){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=f)return!1;var l=t instanceof Date,d=n instanceof Date;if(l!=d)return!1;if(l&&d)return t.getTime()==n.getTime();var h=t instanceof RegExp,p=n instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==n.toString();var v=i(t);if((s=v.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,v[a]))return!1;for(a=s;0!==a--;)if(!e(t[c=v[a]],n[c]))return!1;return!0}return t!==t&&n!==n}},vssE:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return S}));var r=n(\"q1tI\"),i=n.n(r),o=n(\"miPH\"),a=n.n(o);function s(){return\"undefined\"===typeof document||\"undefined\"===typeof document.visibilityState||\"hidden\"!==document.visibilityState}function c(){return\"undefined\"===typeof navigator.onLine||navigator.onLine}const u=new WeakMap;let f=0;const l=new class{constructor(e={}){this.__cache=new Map(Object.entries(e)),this.__listeners=[]}get(e){const[t]=this.serializeKey(e);return this.__cache.get(t)}set(e,t,n=!0){const[r]=this.serializeKey(e);this.__cache.set(r,t),n&&R(e,t,!1),this.notify()}keys(){return Array.from(this.__cache.keys())}has(e){const[t]=this.serializeKey(e);return this.__cache.has(t)}clear(e=!0){e&&this.__cache.forEach(e=>R(e,null,!1)),this.__cache.clear(),this.notify()}delete(e,t=!0){const[n]=this.serializeKey(e);t&&R(e,null,!1),this.__cache.delete(n),this.notify()}serializeKey(e){let t=null;if(\"function\"===typeof e)try{e=e()}catch(n){e=\"\"}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return\"\";let t=\"arg\";for(let n=0;n<e.length;++n){let r;null===e[n]||\"object\"!==typeof e[n]?r=\"string\"===typeof e[n]?'\"'+e[n]+'\"':String(e[n]):u.has(e[n])?r=u.get(e[n]):(r=f,u.set(e[n],f++)),t+=\"@\"+r}return t}(e)):e=String(e||\"\"),[e,t,e?\"err@\"+e:\"\"]}subscribe(e){if(\"function\"!==typeof e)throw new Error(\"Expected the listener to be a function.\");let t=!0;return this.__listeners.push(e),()=>{if(!t)return;t=!1;const n=this.__listeners.indexOf(e);n>-1&&(this.__listeners[n]=this.__listeners[this.__listeners.length-1],this.__listeners.length--)}}notify(){for(let e of this.__listeners)e()}},d={},h={},p={},v={},y={};const g=\"undefined\"!==typeof window&&navigator.connection&&-1!==[\"slow-2g\",\"2g\"].indexOf(navigator.connection.effectiveType),w={onLoadingSlow:()=>{},onSuccess:()=>{},onError:()=>{},onErrorRetry:function(e,t,n,r,i){if(!s())return;if(n.errorRetryCount&&i.retryCount>n.errorRetryCount)return;const o=Math.min(i.retryCount||0,8),a=~~((Math.random()+.5)*(1<<o))*n.errorRetryInterval;setTimeout(r,a,i)},errorRetryInterval:1e3*(g?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(g?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:a.a};let m=!1;if(\"undefined\"!==typeof window&&window.addEventListener&&!m){const e=()=>{if(s()&&c())for(let e in p)p[e][0]&&p[e][0]()};window.addEventListener(\"visibilitychange\",e,!1),window.addEventListener(\"focus\",e,!1),m=!0}var b=w;const _=Object(r.createContext)({});_.displayName=\"SWRConfigContext\";var O=_;const j=\"undefined\"===typeof window,E=j?r.useEffect:r.useLayoutEffect,k=(e,t,n)=>{const r=v[e];if(e&&r)for(let i=0;i<r.length;++i)r[i](!1,t,n)},R=async(e,t,n=!0)=>{const[r]=l.serializeKey(e);if(!r)return;if(\"undefined\"===typeof t)return((e,t=!0)=>{const[n,,r]=l.serializeKey(e);if(!n)return;const i=v[n];if(n&&i){const e=l.get(n),o=l.get(r);for(let n=0;n<i.length;++n)i[n](t,e,o,n>0)}})(e,n);let i,o;if(y[r]=Date.now()-1,t&&\"function\"===typeof t)try{i=await t(l.get(r))}catch(s){o=s}else if(t&&\"function\"===typeof t.then)try{i=await t}catch(s){o=s}else i=t;\"undefined\"!==typeof i&&l.set(r,i,!1);const a=v[r];if(a)for(let c=0;c<a.length;++c)a[c](!!n,i,o,c>0);if(o)throw o;return i};O.Provider;var C=function(...e){let t,n,i={};e.length>=1&&(t=e[0]),e.length>2?(n=e[1],i=e[2]):\"function\"===typeof e[1]?n=e[1]:\"object\"===typeof e[1]&&(i=e[1]);const[o,a,u]=l.serializeKey(t);i=Object.assign({},b,Object(r.useContext)(O),i),\"undefined\"===typeof n&&(n=i.fetcher);const f=l.get(o)||i.initialData,g=l.get(u),w=Object(r.useRef)({data:!1,error:!1,isValidating:!1}),m=Object(r.useRef)({data:f,error:g,isValidating:!1}),_=Object(r.useState)(null)[1];let C=Object(r.useCallback)(e=>{let t=!1;for(let n in e)m.current[n]=e[n],w.current[n]&&(t=!0);(t||i.suspense)&&_({})},[]);const T=Object(r.useRef)(!1),I=Object(r.useRef)(o),L=Object(r.useCallback)((e,t)=>R(o,e,t),[o]),x=Object(r.useCallback)(async(e={})=>{if(!o||!n)return!1;if(T.current)return!1;e=Object.assign({dedupe:!1},e);let t=!0,r=\"undefined\"!==typeof d[o]&&e.dedupe;try{let e,s;if(C({isValidating:!0}),r?(s=h[o],e=await d[o]):(d[o]&&(y[o]=Date.now()-1),i.loadingTimeout&&!l.get(o)&&setTimeout(()=>{t&&i.onLoadingSlow(o,i)},i.loadingTimeout),d[o]=null!==a?n(...a):n(o),h[o]=s=Date.now(),e=await d[o],setTimeout(()=>{delete d[o],delete h[o]},i.dedupingInterval),i.onSuccess(e,o,i)),y[o]&&s<=y[o])return C({isValidating:!1}),!1;l.set(o,e,!1),l.set(u,void 0,!1);const c={isValidating:!1};\"undefined\"!==typeof m.current.error&&(c.error=void 0),i.compare(m.current.data,e)||(c.data=e),C(c),r||k(o,e,void 0)}catch(s){if(delete d[o],delete h[o],l.set(u,s,!1),m.current.error!==s&&(C({isValidating:!1,error:s}),r||k(o,void 0,s)),i.onError(s,o,i),i.shouldRetryOnError){const t=(e.retryCount||0)+1;i.onErrorRetry(s,o,i,x,Object.assign({dedupe:!0},e,{retryCount:t}))}}return t=!1,!0},[o]);if(E(()=>{if(!o)return;T.current=!1;const e=m.current.data,t=l.get(o)||i.initialData;I.current===o&&i.compare(e,t)||(C({data:t}),I.current=o);const n=()=>x({dedupe:!0});let r;i.initialData||(\"undefined\"!==typeof t&&!j&&window.requestIdleCallback?window.requestIdleCallback(n):n()),i.revalidateOnFocus&&(r=function(e,t){let n=!1;return(...r)=>{n||(n=!0,e(...r),setTimeout(()=>n=!1,t))}}(n,i.focusThrottleInterval),p[o]?p[o].push(r):p[o]=[r]);const a=(e=!0,t,r,o=!0)=>{const a={};let s=!1;return\"undefined\"===typeof t||i.compare(m.current.data,t)||(a.data=t,s=!0),m.current.error!==r&&(a.error=r,s=!0),s&&C(a),!!e&&(o?n():x())};v[o]?v[o].push(a):v[o]=[a];let s=null;return!j&&window.addEventListener&&i.revalidateOnReconnect&&window.addEventListener(\"online\",s=n),()=>{if(C=()=>null,T.current=!0,r&&p[o]){const e=p[o],t=e.indexOf(r);t>=0&&(e[t]=e[e.length-1],e.pop())}if(v[o]){const e=v[o],t=e.indexOf(a);t>=0&&(e[t]=e[e.length-1],e.pop())}!j&&window.removeEventListener&&null!==s&&window.removeEventListener(\"online\",s)}},[o,x]),E(()=>{let e=null;const t=async()=>{m.current.error||!i.refreshWhenHidden&&!s()||!i.refreshWhenOffline&&!c()||await x({dedupe:!0}),i.refreshInterval&&(e=setTimeout(t,i.refreshInterval))};return i.refreshInterval&&(e=setTimeout(t,i.refreshInterval)),()=>{e&&clearTimeout(e)}},[i.refreshInterval,i.refreshWhenHidden,i.refreshWhenOffline,x]),i.suspense){if(j)throw new Error(\"Suspense on server side is not yet supported!\");let e=l.get(o),t=l.get(u);if(\"undefined\"===typeof e&&\"undefined\"===typeof t){if(d[o]||x(),d[o]&&\"function\"===typeof d[o].then)throw d[o];e=d[o]}if(\"undefined\"===typeof e&&t)throw t;return{error:t,data:e,revalidate:x,mutate:L,isValidating:m.current.isValidating}}return Object(r.useMemo)(()=>{const e={revalidate:x,mutate:L};return Object.defineProperties(e,{error:{get:function(){return w.current.error=!0,m.current.error}},data:{get:function(){return w.current.data=!0,m.current.data}},isValidating:{get:function(){return w.current.isValidating=!0,m.current.isValidating}}}),e},[x])};new Map;var T=C,I=n(\"YFqc\"),L=n.n(I),x=i.a.createElement,P=function(e){return fetch(e).then((function(e){return e.json()}))};function S(){var e=T(\"/api/projets\",P),t=e.data;return e.error?x(\"div\",null,\"Failed to load\"):t?x(\"div\",{className:\"projets\"},x(\"main\",null,x(\"nav\",null,x(L.a,{href:\"/\"},x(\"a\",null,\"Retour a l'acceuil\"))),t.map((function(e){var t=e.titre,n=e.images,r=e.link;return x(\"div\",{key:t,style:{backgroundImage:\"url(\".concat(n[0],\")\")}},x(\"div\",null,x(\"h1\",null,t),x(L.a,{href:\"/projets/[projet]\",as:\"/projets/\".concat(r)},x(\"a\",null,\"Voir projet\"))))})))):x(\"div\",null,\"Loading...\")}},z34m:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projets\",function(){return n(\"vssE\")}])}},[[\"z34m\",0,2,1]]]);"}